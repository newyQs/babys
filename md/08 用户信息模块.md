# 第8章 用户信息模块

django的Auth认证系统已经内置模型User，它对应数据表auth_user，该模型一共定义了11个字段，各个字段说明如下：
```text
+ id：
+ password：
+ last_login：
+ is_superuser：
+ username：
+ first_name：
+ last_name：
+ email：
+ is_staff：
+ is_active：
+ data_joined：
```
## 8.1 内置User实现注册登录

## 8.2 CSRF防护


## 8.3 使用Form实现注册登录


## 8.4 分析Form的机制和原理

表单类Form继承BaseForm和元类DeclarativeFieldMetaclass，而该元类又继承另一个元类。

  -----> BaseForm
  |
Form
  |
  -----> DeclarativeFieldsMetaclass --> MediaDefiningClass --> type
  
BaseForm的常用属性和方法：
+ data：
+ auto_id：
+ prefix：
+ initial：
+ label_suffix：
+ field_order：
+ use_required_attribute：
+ errors()：
+ is_valid()：
+ as_table()：
+ as_ul()：
+ as_p()：
+ has_changed()：

表单的字段类型：
+ CharField：
+ IntegerField：
+ FloatField：
+ DecimalField：

## 8.5 使用ModelForm实现注册登录


## 8.6 分析ModelForm的机制和原理

模型表单类ModelForm继承父类BaseModelForm，其元类为ModelFormMetaclass。

    ----->  BaseModelForm --> BaseForm
    |
ModelForm
    |
    ----->  ModelFormMetaclass --> DeclarativeFieldsMetaclass --> MediaDefiningClass --> type

表单类BaseModelForm的核心属性和方法：
instance
clean()
validate_unique()
_save_m2m()
save()

模型字段转换表单字段遵循django内置的规则进行转换：
```text
模型字段类型                      表单字段类型

AutoField                       不能转换表单字段
BigAutoField
BigIntegerField
BinaryField
BooleanField
CharField
DateField
DatetimeField
DecimalField
EmailField
FileField
FilePathField
ForeignField
ImageField
IntegerField
IPAddressField
GenericIPAddressField
ManyToManyField
NullBooleanField
PositiveField
PossitiveSmallIntegerField
SlugField
SmallIntegerField
TextField
TimeField
URLField

```


## 8.7 个人中心页


## 8.8 本章小结
